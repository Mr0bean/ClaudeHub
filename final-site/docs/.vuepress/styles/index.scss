// ===========================
// ThinkInAI 风格主题配置
// 基于 ThinkInAI 设计系统
// ===========================

// 品牌色彩系统
:root {
  // 主品牌色 - 紫蓝色系
  --brand-color: #6366F1;
  --brand-color-light: #818CF8;
  --brand-color-dark: #4F46E5;
  --brand-color-soft: #EEF2FF;
  --brand-color-mute: #E0E7FF;

  // 强调色 - 蓝色系
  --accent-color: #3B82F6;
  --accent-color-soft: #60A5FA;
  --accent-color-mute: #93C5FD;

  // 暗色背景
  --dark-bg-primary: #0a0b1e;
  --dark-bg-secondary: #1a1b3a;
  --dark-bg-tertiary: #13142b;

  // 亮色背景
  --light-bg-primary: #ffffff;
  --light-bg-secondary: #f8f9fa;
  --light-bg-tertiary: #f3f4f6;

  // 渐变色 - 核心视觉元素
  --gradient-brand: linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%);
  --gradient-hero: linear-gradient(135deg, #0a0b1e 0%, #1a1b3a 50%, #13142b 100%);
  --gradient-card: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%);
  --gradient-glow: radial-gradient(circle at 50% 50%, rgba(99, 102, 241, 0.3) 0%, transparent 70%);

  // 玻璃态效果
  --glass-bg: rgba(255, 255, 255, 0.05);
  --glass-border: rgba(255, 255, 255, 0.1);
  --glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);

  // 阴影
  --shadow-brand: 0 4px 20px rgba(99, 102, 241, 0.3);
  --shadow-brand-lg: 0 10px 40px rgba(99, 102, 241, 0.4);
  --shadow-glow: 0 0 60px rgba(99, 102, 241, 0.4);
}

/* 自定义品牌样式 - ThinkInAI 风格 */
.navbar-brand {
  position: relative;
  z-index: 100;

  .navbar-brand-link, .navbar-brand-title {
    font-weight: 700 !important;
    color: var(--brand-color) !important;
    font-size: 1.2rem !important;
    letter-spacing: 0.5px;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: inline-block;
    pointer-events: auto !important;
    cursor: pointer !important;
    text-decoration: none !important;

    &:hover {
      transform: translateY(-2px);
      filter: brightness(1.1);
    }
  }
}

/* 针对 VuePress 默认主题的品牌区域 */
.navbar .navbar-brand {
  font-weight: 600 !important;
  background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  font-size: 1.1rem !important;
  letter-spacing: 0.5px;
  transition: all 0.3s ease;
  
  &:hover {
    transform: translateY(-1px);
    filter: brightness(1.1);
  }
}

/* Logo 图片样式优化 */
.navbar-brand .navbar-brand-logo {
  height: 32px;
  margin-right: 8px;
  filter: drop-shadow(0 2px 4px rgba(79, 70, 229, 0.1));
  transition: all 0.3s ease;

  &:hover {
    filter: drop-shadow(0 4px 8px rgba(79, 70, 229, 0.2));
    transform: scale(1.05);
  }
}

// ===========================
// 全局背景效果 - ThinkInAI 风格
// ===========================

// 页面整体背景 - 默认亮色，通过类名切换
body {
  position: relative;
  background: linear-gradient(180deg, #ffffff 0%, #f8f9fa 100%);
  min-height: 100vh;

  // 简化背景效果以解决性能问题
  /*
  &::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background:
      radial-gradient(circle at 20% 30%, rgba(99, 102, 241, 0.15) 0%, transparent 40%),
      radial-gradient(circle at 80% 70%, rgba(139, 92, 246, 0.15) 0%, transparent 40%),
      radial-gradient(circle at 50% 50%, rgba(59, 130, 246, 0.1) 0%, transparent 60%);
    opacity: 0.6;
    z-index: -1;
    pointer-events: none;
  }

  &::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image:
      radial-gradient(circle at 2px 2px, rgba(99, 102, 241, 0.2) 1px, transparent 1px);
    background-size: 50px 50px;
    z-index: -1;
    pointer-events: none;
    opacity: 0.5;
  }
  */
}

// 页面主容器
.page, .theme-container {
  background: transparent !important;
}

@keyframes floatBackground {
  0%, 100% { transform: rotate(0deg) scale(1); }
  33% { transform: rotate(120deg) scale(1.1); }
  66% { transform: rotate(240deg) scale(0.95); }
}

// 导航栏渐变增强
.navbar {
  position: relative;
  z-index: 1000 !important;
  background: linear-gradient(90deg, rgba(255,255,255,0.95) 0%, rgba(248,250,252,0.95) 100%) !important;
  backdrop-filter: blur(20px) saturate(180%);
  pointer-events: auto !important;
  border-bottom: 1px solid rgba(126, 85, 255, 0.1);

  * {
    pointer-events: auto !important;
  }

  a, button {
    cursor: pointer !important;
    pointer-events: auto !important;
  }

  // 导航链接样式
  .nav-link, .navbar-item a {
    color: var(--text-color) !important;
    font-weight: 500;
    transition: all 0.3s ease;

    &:hover {
      color: var(--brand-color) !important;
    }
  }

  &::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: var(--gradient-brand);
    opacity: 0.3;
  }
}

// 侧边栏渐变背景
.sidebar {
  background: linear-gradient(180deg, rgba(248, 250, 252, 0.95) 0%, rgba(241, 245, 249, 0.95) 100%);
  backdrop-filter: blur(10px);

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 200px;
    background: linear-gradient(180deg, rgba(126, 85, 255, 0.05) 0%, transparent 100%);
    pointer-events: none;
  }
}

// 主内容区域渐变装饰
.theme-default-content {
  position: relative;

  &::before {
    content: '';
    position: absolute;
    top: -100px;
    left: 50%;
    transform: translateX(-50%);
    width: 800px;
    height: 800px;
    background: radial-gradient(circle, rgba(126, 85, 255, 0.03) 0%, transparent 70%);
    pointer-events: none;
    z-index: -1;
  }
}

/* 暗色模式 - 支持 VuePress 的 data-theme 属性 */
html[data-theme="dark"],
html.dark {
  // 强制暗色背景
  background: var(--dark-bg-primary) !important;

  // 暗色模式背景
  body {
    background: linear-gradient(180deg, var(--dark-bg-primary) 0%, var(--dark-bg-secondary) 100%) !important;
    color: #e2e8f0 !important;

    &::before {
      background: radial-gradient(at 40% 20%, hsla(251, 78%, 63%, 0.2) 0px, transparent 50%),
                   radial-gradient(at 80% 0%, hsla(189, 100%, 56%, 0.15) 0px, transparent 50%),
                   radial-gradient(at 0% 50%, hsla(267, 77%, 63%, 0.15) 0px, transparent 50%),
                   radial-gradient(at 80% 50%, hsla(189, 100%, 70%, 0.1) 0px, transparent 50%),
                   radial-gradient(at 0% 100%, hsla(251, 78%, 63%, 0.15) 0px, transparent 50%);
      opacity: 0.6;
    }

    &::after {
      background: radial-gradient(circle at 30% 50%, rgba(126, 85, 255, 0.05) 0%, transparent 50%),
                  radial-gradient(circle at 70% 80%, rgba(0, 201, 255, 0.05) 0%, transparent 50%);
    }
  }

  // 确保所有容器背景透明或暗色
  .page {
    background: transparent !important;
  }

  .theme-container {
    background: transparent !important;
  }

  .theme-default-content,
  .page-content,
  main {
    background: transparent !important;
    color: #cbd5e1 !important;
  }

  // HomePage 组件样式覆盖
  .home-page {
    background: transparent !important;

    .hero-section {
      background: transparent !important;
      color: #f1f5f9 !important;
    }

    .feature-cards {
      background: rgba(30, 41, 59, 0.5) !important;
    }

    .feature-card {
      background: rgba(51, 65, 85, 0.3) !important;
      border-color: rgba(126, 85, 255, 0.2) !important;

      &:hover {
        background: rgba(51, 65, 85, 0.5) !important;
        border-color: rgba(126, 85, 255, 0.4) !important;
      }
    }
  }

  // 内容页面背景
  .theme-default-content {
    &:not(.custom) {
      background: transparent !important;
    }
  }

  // 页面整体容器
  #app {
    background: transparent !important;
  }

  // 导航栏暗色
  .navbar {
    background: linear-gradient(90deg, rgba(15, 23, 42, 0.95) 0%, rgba(30, 41, 59, 0.95) 100%) !important;
    border-bottom: 1px solid rgba(126, 85, 255, 0.2);

    &::after {
      opacity: 0.5;
    }
  }

  // 侧边栏暗色
  .sidebar {
    background: linear-gradient(180deg, rgba(30, 41, 59, 0.95) 0%, rgba(51, 65, 85, 0.95) 100%);

    &::before {
      background: linear-gradient(180deg, rgba(126, 85, 255, 0.08) 0%, transparent 100%);
    }

    .sidebar-item {
      a {
        color: #cbd5e1;

        &:hover {
          background: rgba(126, 85, 255, 0.1);
          color: #a5b4fc;
        }
      }

      &.active > a {
        background: linear-gradient(90deg, rgba(126, 85, 255, 0.2) 0%, rgba(0, 201, 255, 0.2) 100%);
        color: #a5b4fc;
        border-left-color: #7e55ff;
      }
    }
  }

  // 主内容区域暗色
  .theme-default-content {
    color: #cbd5e1 !important;

    h1, h2, h3, h4, h5, h6 {
      color: #f1f5f9 !important;
    }

    h2 {
      border-bottom-color: rgba(126, 85, 255, 0.2);
    }

    p, li, span, div {
      color: #cbd5e1 !important;
    }

    strong, b {
      color: #e2e8f0 !important;
    }

    a:not(.header-anchor) {
      color: #a5b4fc !important;

      &:hover {
        color: #c7d2fe !important;
      }
    }

    // 代码块暗色
    pre {
      background: #0f172a !important;
      border: 1px solid rgba(126, 85, 255, 0.2);
    }

    // 内联代码暗色
    code:not(pre code) {
      background: rgba(126, 85, 255, 0.2);
      color: #c7d2fe;
    }

    // 引用块暗色
    blockquote {
      background: rgba(126, 85, 255, 0.1);
      border-left-color: #7e55ff;

      p {
        color: #a5b4fc;
      }
    }

    // 表格暗色
    table {
      thead {
        background: linear-gradient(135deg, rgba(0, 201, 255, 0.2) 0%, rgba(90, 45, 209, 0.2) 100%);

        th {
          color: #f1f5f9;
        }
      }

      tbody {
        tr {
          border-bottom-color: rgba(126, 85, 255, 0.1);

          &:hover {
            background: rgba(126, 85, 255, 0.05);
          }
        }

        td {
          color: #cbd5e1;
        }
      }
    }
  }

  // 品牌文字暗色
  .navbar-brand .navbar-brand-link,
  .navbar-brand .navbar-brand-title,
  .navbar .navbar-brand {
    background: linear-gradient(135deg, #a5b4fc 0%, #c7d2fe 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .navbar-brand .navbar-brand-logo {
    filter: drop-shadow(0 2px 4px rgba(165, 180, 252, 0.3));

    &:hover {
      filter: drop-shadow(0 4px 8px rgba(165, 180, 252, 0.5));
    }
  }

  // 自定义提示块暗色
  .custom-block {
    &.tip {
      background-color: rgba(14, 165, 233, 0.05);
      border-left-color: #0ea5e9;
    }

    &.warning {
      background-color: rgba(245, 158, 11, 0.05);
      border-left-color: #f59e0b;
    }

    &.danger {
      background-color: rgba(239, 68, 68, 0.05);
      border-left-color: #ef4444;
    }
  }

  // 搜索框暗色
  .search-box {
    input {
      background: rgba(30, 41, 59, 0.8);
      color: #f1f5f9;
      border-color: rgba(126, 85, 255, 0.2);

      &:focus {
        background: rgba(30, 41, 59, 0.95);
        border-color: #7e55ff;
        box-shadow: 0 0 0 3px rgba(126, 85, 255, 0.2);
      }

      &::placeholder {
        color: #64748b;
      }
    }

    .suggestions {
      background: #1e293b;
      border-color: rgba(126, 85, 255, 0.2);

      .suggestion {
        &.focused {
          background: rgba(126, 85, 255, 0.2);

          .suggestion-row {
            color: #c7d2fe;
          }
        }
      }
    }
  }

  // 页脚暗色
  .page-meta, .page-nav {
    border-top-color: rgba(126, 85, 255, 0.1);

    .prev, .next {
      a {
        background: rgba(30, 41, 59, 0.5);

        &:hover {
          background: rgba(126, 85, 255, 0.1);
        }
      }
    }
  }
}

/* 亮色模式 - ThinkInAI 风格 */
html[data-theme="light"] {
  // 强制亮色背景
  background: var(--light-bg-primary) !important;

  // 亮色模式背景
  body {
    background: linear-gradient(180deg, var(--light-bg-primary) 0%, var(--light-bg-secondary) 100%) !important;
    color: #1f2937 !important;

    &::before {
      background:
        radial-gradient(circle at 20% 30%, rgba(99, 102, 241, 0.08) 0%, transparent 40%),
        radial-gradient(circle at 80% 70%, rgba(139, 92, 246, 0.08) 0%, transparent 40%),
        radial-gradient(circle at 50% 50%, rgba(59, 130, 246, 0.05) 0%, transparent 60%);
      opacity: 0.8;
    }

    &::after {
      background-image:
        radial-gradient(circle at 2px 2px, rgba(99, 102, 241, 0.1) 1px, transparent 1px);
      opacity: 0.3;
    }
  }

  // 导航栏亮色
  .navbar {
    background: linear-gradient(90deg, rgba(255,255,255,0.98) 0%, rgba(248,249,250,0.98) 100%) !important;
    backdrop-filter: blur(20px) saturate(180%);
    border-bottom: 1px solid rgba(99, 102, 241, 0.1);

    &::after {
      background: var(--gradient-brand);
      opacity: 0.2;
    }
  }

  // 侧边栏亮色
  .sidebar {
    background: linear-gradient(180deg, rgba(248, 249, 250, 0.98) 0%, rgba(243, 244, 246, 0.98) 100%);

    &::before {
      background: linear-gradient(180deg, rgba(99, 102, 241, 0.05) 0%, transparent 100%);
    }

    .sidebar-item {
      a {
        color: #4b5563;

        &:hover {
          background: rgba(99, 102, 241, 0.1);
          color: #6366f1;
        }
      }

      &.active > a {
        background: linear-gradient(90deg, rgba(99, 102, 241, 0.15) 0%, rgba(139, 92, 246, 0.15) 100%);
        color: #6366f1;
        border-left-color: #6366f1;
      }
    }
  }

  // 主内容区域亮色
  .theme-default-content {
    color: #374151 !important;

    h1, h2, h3, h4, h5, h6 {
      color: #111827 !important;
    }

    h2 {
      border-bottom-color: rgba(99, 102, 241, 0.2);
    }

    p, li, span, div {
      color: #4b5563 !important;
    }

    strong, b {
      color: #1f2937 !important;
    }

    a:not(.header-anchor) {
      color: #6366f1 !important;

      &:hover {
        color: #4f46e5 !important;
      }
    }

    // 代码块亮色
    pre {
      background: #f9fafb !important;
      border: 1px solid rgba(99, 102, 241, 0.2);
    }

    // 内联代码亮色
    code:not(pre code) {
      background: rgba(99, 102, 241, 0.1);
      color: #6366f1;
    }

    // 引用块亮色
    blockquote {
      background: rgba(99, 102, 241, 0.05);
      border-left-color: #6366f1;

      p {
        color: #6366f1;
      }
    }

    // 表格亮色
    table {
      thead {
        background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%);

        th {
          color: #111827;
        }
      }

      tbody {
        tr {
          border-bottom-color: rgba(99, 102, 241, 0.1);

          &:hover {
            background: rgba(99, 102, 241, 0.03);
          }
        }

        td {
          color: #4b5563;
        }
      }
    }
  }

  // 品牌文字亮色
  .navbar-brand .navbar-brand-link,
  .navbar-brand .navbar-brand-title,
  .navbar .navbar-brand {
    background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .navbar-brand .navbar-brand-logo {
    filter: drop-shadow(0 2px 4px rgba(99, 102, 241, 0.2));

    &:hover {
      filter: drop-shadow(0 4px 8px rgba(99, 102, 241, 0.3));
    }
  }

  // 自定义提示块亮色
  .custom-block {
    &.tip {
      background-color: rgba(59, 130, 246, 0.05);
      border-left-color: #3b82f6;
    }

    &.warning {
      background-color: rgba(251, 146, 60, 0.05);
      border-left-color: #fb923c;
    }

    &.danger {
      background-color: rgba(248, 113, 113, 0.05);
      border-left-color: #f87171;
    }
  }

  // 搜索框亮色
  .search-box {
    input {
      background: rgba(255, 255, 255, 0.9);
      color: #111827;
      border-color: rgba(99, 102, 241, 0.2);

      &:focus {
        background: rgba(255, 255, 255, 1);
        border-color: #6366f1;
        box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
      }

      &::placeholder {
        color: #9ca3af;
      }
    }

    .suggestions {
      background: #ffffff;
      border-color: rgba(99, 102, 241, 0.2);

      .suggestion {
        &.focused {
          background: rgba(99, 102, 241, 0.1);

          .suggestion-row {
            color: #6366f1;
          }
        }
      }
    }
  }
}